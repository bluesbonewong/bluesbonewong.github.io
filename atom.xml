<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BluesboneW</title>
  
  <subtitle>Have Fun, Please</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2018-05-05T13:00:12.309Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>大汪</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>vue原理之响应式</title>
    <link href="http://yoursite.com/2018/05/05/vue%E5%8E%9F%E7%90%86%E4%B9%8B%E5%93%8D%E5%BA%94%E5%BC%8F/"/>
    <id>http://yoursite.com/2018/05/05/vue原理之响应式/</id>
    <published>2018-05-05T08:15:13.000Z</published>
    <updated>2018-05-05T13:00:12.309Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-什么是响应式"><a class="header-anchor" href="#1-什么是响应式">¶</a>1. 什么是响应式</h2><blockquote><p>拿<code>&lt;input v-model=&quot;xxx&quot;&gt;</code>举例</p></blockquote><ul><li>修改<code>data</code>属性后，vue立刻监听到 —— 修改<code>data</code>里的<code>xxx</code>，dom也会发生相应的变化</li><li><code>data</code>属性被代理到<code>vue实例</code>上 —— 在vue实例内部，调用<code>data</code>里的<code>xxx</code>的方式不是<code>this.data.xxx</code>而是<code>this.xxx</code></li></ul><h2 id="2-vue如何监听到data的变化"><a class="header-anchor" href="#2-vue如何监听到data的变化">¶</a>2. vue如何监听到<code>data</code>的变化</h2><p>vue响应式的核心就在于<code>如何追踪变化</code>，实现这一点的重中之重就在<code>Object.defineProperty()</code></p><p>先来看一个例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  b: <span class="number">1</span>,</span><br><span class="line">  c: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.b) <span class="comment">// 如何监听到obj.b被调用了呢？</span></span><br><span class="line">obj.c = <span class="number">3</span> <span class="comment">// 如何监听到obj.c被赋值了呢？</span></span><br></pre></td></tr></table></figure><h3 id="2-1-object-defineproperty"><a class="header-anchor" href="#2-1-object-defineproperty">¶</a>2.1 Object.defineProperty()</h3><p>顾名思义，<code>Object.defineProperty()</code>就是用来<strong>定义对象属性的</strong>，结合之前定义对象属性的方式，现在一共有<strong>三种</strong></p><ul><li><code>people[name] = 'zhangsan'</code></li><li><code>people.name = 'zhangsan'</code></li><li><code>Object.defineProperty(people, 'name', {value: 'zhangsan'})</code></li></ul><h3 id="2-2-object-defineproperty-基本语法"><a class="header-anchor" href="#2-2-object-defineproperty-基本语法">¶</a>2.2 Object.defineProperty()基本语法</h3><ul><li><strong>语法：</strong><code>Object.defineProperty(obj, prop, descriptor)</code></li><li><strong>作用：</strong> 1.在一个对象上定义一个新属性;2.修改一个对象的现有属性</li><li><strong>参数：</strong><code>obj</code>：被传入的对象，<code>prop</code>：对obj要定义或要修改的<strong>属性名称</strong>【key的名称】，<code>descriptor【重点】</code>：对被定义或被修改的<strong>属性的一些规定</strong>【对value的规定】</li><li><strong>返回值：</strong> obj</li></ul><a id="more"></a><h3 id="2-3-descriptor-属性描述符"><a class="header-anchor" href="#2-3-descriptor-属性描述符">¶</a>2.3 descriptor 属性描述符</h3><blockquote><p>全部的属性描述符细节，请看<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty#%E5%B1%9E%E6%80%A7%E6%8F%8F%E8%BF%B0%E7%AC%A6" target="_blank" rel="noopener">MDN</a>，下面我介绍一下与双向绑定有关，我们需要重点关注的<strong>存取描述符</strong></p></blockquote><ul><li><strong>configurable：默认为 false</strong>，当且仅当该属性的 configurable 为 true 时，该属性描述符才能够被<code>自由改变</code>，否则要通过<code>set</code>才能够改变，同时该属性也能从对应的对象上被删除【<strong>也就是说我们可以直接使用delete关键字去删除该属性</strong>】</li><li><strong>enumerable：默认为 false</strong>，此时被传入的<code>obj</code>的<code>prop</code>不可被遍历</li><li><strong>get：</strong><code>方法</code>，如果被传入的<code>obj</code>的<code>prop</code>被<strong>调用</strong>，则触发该方法</li><li><strong>set：</strong><code>方法</code>，如果被传入的<code>obj</code>的<code>prop</code>被<strong>设置</strong>，则触发该方法</li></ul><blockquote><p>下面我们看一个例子，来<strong>深入了解一下configurable和enumerable</strong></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  b: <span class="number">1</span>,</span><br><span class="line">  c: <span class="number">2</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> a</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'a'</span>, &#123;</span><br><span class="line">  configurable: <span class="literal">false</span>, <span class="comment">// 设置为false，则obj.a不可被delete，不可被直接赋值</span></span><br><span class="line">  enumerable: <span class="literal">false</span>,  <span class="comment">// 设置为false，则obj.a不可被遍历</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// configurable: false 的情况</span></span><br><span class="line"><span class="keyword">delete</span> obj.a <span class="comment">// false</span></span><br><span class="line">obj.a = <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'现在obj.a的值是：'</span> + obj.a) <span class="comment">// 现在obj.a的值是：undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// enumerable: false 的情况</span></span><br><span class="line"><span class="keyword">for</span> (key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key)</span><br><span class="line">&#125; <span class="comment">// b,c 不会有a的出现，a无法被遍历到</span></span><br></pre></td></tr></table></figure><blockquote><p>下面我们看一个例子，来<strong>深入了解一下get和set</strong></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> a</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'a'</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'对象的a被调用啦'</span>)</span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line">  &#125;,</span><br><span class="line">  set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'对象的a被赋值啦，这个值是:'</span> + newVal)</span><br><span class="line">    a = newVal <span class="comment">// 如果没有一行，obj.a是无法被赋值的</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// get</span></span><br><span class="line"><span class="comment">// obj.a 被调用</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.a) <span class="comment">// 对象的a被调用啦</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// set</span></span><br><span class="line"><span class="comment">// obj.a 被设置</span></span><br><span class="line">obj.a = <span class="number">1</span> <span class="comment">// 对象的a被赋值啦，这个值是:1</span></span><br></pre></td></tr></table></figure><h3 id="2-4-使用object-defineproperty-的get和set来解决第二小节开始的问题"><a class="header-anchor" href="#2-4-使用object-defineproperty-的get和set来解决第二小节开始的问题">¶</a>2.4 使用Object.defineProperty()的<code>get</code>和<code>set</code>来解决第二小节开始的问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 改写原有的obj，直接声明一个空对象，将其属性值抽离成为独立的变量</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> _b = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> _c = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不采用直接定义属性的方式，而是通过defineProperty</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'b'</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'obj.b被调用啦'</span>)</span><br><span class="line">    <span class="keyword">return</span> _b</span><br><span class="line">  &#125;,</span><br><span class="line">  set: <span class="function"><span class="keyword">function</span> (<span class="params">newval</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'obj.b被赋值啦'</span>)</span><br><span class="line">    _b = newval</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'c'</span>, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'obj.b被调用啦'</span>)</span><br><span class="line">    <span class="keyword">return</span> _c</span><br><span class="line">  &#125;,</span><br><span class="line">  set: <span class="function"><span class="keyword">function</span> (<span class="params">newval</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'obj.c被赋值啦'</span>)</span><br><span class="line">    _c = newval</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(obj.b) <span class="comment">// obj.b被调用啦</span></span><br><span class="line">obj.c = <span class="number">3</span> <span class="comment">// obj.c被赋值啦</span></span><br></pre></td></tr></table></figure><blockquote><p>值得注意的是，其实这个例子里第一行的空函数<code>obj</code>代表着Vue里的<code>Vue实例</code>，大家应该可以略微感受到<code>data</code>是如何被代理到<code>Vue实例</code>中了</p></blockquote><h2 id="3-模拟实现vue的响应式"><a class="header-anchor" href="#3-模拟实现vue的响应式">¶</a>3. 模拟实现Vue的响应式</h2><p>我们来模拟实现vue的如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    name: <span class="string">'龚超'</span>,</span><br><span class="line">    age: <span class="number">11</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>实现过程</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> vm = &#123;&#125; <span class="comment">// 空对象 —— 代表vue实例</span></span><br><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  name: <span class="string">'龚超'</span>,</span><br><span class="line">  age: <span class="number">11</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> data) &#123;</span><br><span class="line">  <span class="comment">// 1. 不要用var key，因为defineProperty在循环体内进行监听和onclick类似</span></span><br><span class="line">  <span class="comment">// 2. 如果一定要用var key，请使用立即执行函数造出局部作用域</span></span><br><span class="line">  <span class="built_in">console</span>.log(key)</span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(vm, key, &#123;</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'get'</span>) <span class="comment">// 实现监听</span></span><br><span class="line">      <span class="keyword">return</span> data[key] <span class="comment">// 把data的属性拷贝到vm上去</span></span><br><span class="line">    &#125;,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span> (<span class="params">newval</span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'set'</span>) <span class="comment">// 实现监听</span></span><br><span class="line">      data[key] = newval <span class="comment">// 把新值赋值到vm的key属性去</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>值得注意的是 —— vue在初始化实例的时候，会把<code>vm</code>的属性遍历一遍，以触发<code>get</code>，完成拷贝</p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-什么是响应式&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-什么是响应式&quot;&gt;¶&lt;/a&gt;1. 什么是响应式&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;拿&lt;code&gt;&amp;lt;input v-model=&amp;quot;xxx&amp;quot;&amp;gt;&lt;/code&gt;举例&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;修改&lt;code&gt;data&lt;/code&gt;属性后，vue立刻监听到 —— 修改&lt;code&gt;data&lt;/code&gt;里的&lt;code&gt;xxx&lt;/code&gt;，dom也会发生相应的变化&lt;/li&gt;
&lt;li&gt;&lt;code&gt;data&lt;/code&gt;属性被代理到&lt;code&gt;vue实例&lt;/code&gt;上 —— 在vue实例内部，调用&lt;code&gt;data&lt;/code&gt;里的&lt;code&gt;xxx&lt;/code&gt;的方式不是&lt;code&gt;this.data.xxx&lt;/code&gt;而是&lt;code&gt;this.xxx&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;2-vue如何监听到data的变化&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#2-vue如何监听到data的变化&quot;&gt;¶&lt;/a&gt;2. vue如何监听到&lt;code&gt;data&lt;/code&gt;的变化&lt;/h2&gt;
&lt;p&gt;vue响应式的核心就在于&lt;code&gt;如何追踪变化&lt;/code&gt;，实现这一点的重中之重就在&lt;code&gt;Object.defineProperty()&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;先来看一个例子&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; obj = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  b: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  c: &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(obj.b) &lt;span class=&quot;comment&quot;&gt;// 如何监听到obj.b被调用了呢？&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;obj.c = &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// 如何监听到obj.c被赋值了呢？&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;2-1-object-defineproperty&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#2-1-object-defineproperty&quot;&gt;¶&lt;/a&gt;2.1 Object.defineProperty()&lt;/h3&gt;
&lt;p&gt;顾名思义，&lt;code&gt;Object.defineProperty()&lt;/code&gt;就是用来&lt;strong&gt;定义对象属性的&lt;/strong&gt;，结合之前定义对象属性的方式，现在一共有&lt;strong&gt;三种&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;people[name] = &#39;zhangsan&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;people.name = &#39;zhangsan&#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Object.defineProperty(people, &#39;name&#39;, {value: &#39;zhangsan&#39;})&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;2-2-object-defineproperty-基本语法&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#2-2-object-defineproperty-基本语法&quot;&gt;¶&lt;/a&gt;2.2 Object.defineProperty()基本语法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;语法：&lt;/strong&gt;&lt;code&gt;Object.defineProperty(obj, prop, descriptor)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;作用：&lt;/strong&gt; 1.在一个对象上定义一个新属性;2.修改一个对象的现有属性&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;参数：&lt;/strong&gt;
&lt;code&gt;obj&lt;/code&gt;：被传入的对象，
&lt;code&gt;prop&lt;/code&gt;：对obj要定义或要修改的&lt;strong&gt;属性名称&lt;/strong&gt;【key的名称】，
&lt;code&gt;descriptor【重点】&lt;/code&gt;：对被定义或被修改的&lt;strong&gt;属性的一些规定&lt;/strong&gt;【对value的规定】&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;返回值：&lt;/strong&gt; obj&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://yoursite.com/tags/Vue/"/>
    
      <category term="computed" scheme="http://yoursite.com/tags/computed/"/>
    
  </entry>
  
  <entry>
    <title>浅析Vue中computed与method的区别</title>
    <link href="http://yoursite.com/2018/05/04/%E6%B5%85%E6%9E%90Vue%E4%B8%ADcomputed%E4%B8%8Emethod%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>http://yoursite.com/2018/05/04/浅析Vue中computed与method的区别/</id>
    <published>2018-05-04T08:15:13.000Z</published>
    <updated>2018-05-05T08:16:03.283Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>其实官方文档对这个已经说的很清楚了，笔者不过是在其基础上进行归纳总结，各位看官还是先去<a href="https://cn.vuejs.org/v2/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98-vs-%E6%96%B9%E6%B3%95" target="_blank" rel="noopener">读一下官方文档</a>吧</p></blockquote><h2 id="1-computed区别于method的两个核心"><a class="header-anchor" href="#1-computed区别于method的两个核心">¶</a>1.computed区别于method的两个核心</h2><p>在官方文档中，强调了computed区别于method最重要的两点</p><ol><li>computed是<strong>属性调用</strong>，而methods是<strong>函数调用</strong></li><li>computed带有<strong>缓存功能</strong>，而methods不是</li></ol><p>OK，下面我们看一个具体的例子</p><a id="more"></a><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--HTML部分--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"test1"</span>&gt;</span>&#123;&#123;methodTest&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"test2-1"</span>&gt;</span>&#123;&#123;methodTest()&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"test2-2"</span>&gt;</span>&#123;&#123;methodTest()&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"test2-3"</span>&gt;</span>&#123;&#123;methodTest()&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"test3-1"</span>&gt;</span>&#123;&#123;computedTest&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"test3-2"</span>&gt;</span>&#123;&#123;computedTest&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--script部分--&gt;</span><br><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  data: &#123;</span><br><span class="line">    message: <span class="string">'我是消息，'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    methodTest() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.message + <span class="string">'现在我用的是methods'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  computed: &#123;</span><br><span class="line">    computedTest() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.message + <span class="string">'现在我用的是computed'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="2-computed的属性调用"><a class="header-anchor" href="#2-computed的属性调用">¶</a>2. computed的属性调用</h2><p>细心的朋友可能已经发现了，在<code>HTML</code>的插值里</p><ol><li>computed定义的方法我们是以属性访问的形式调用的<code>computedTest</code></li><li>但是methods定义的方法，我们必须要加上<code>()</code>来调用，如<code>methodTest()</code>，<strong>否则，视图会出现<code>test1</code>的情况</strong>，见下图<img src="https://segmentfault.com/img/bV8UtL" alt="clipboard.png"></li></ol><h2 id="3-computed的缓存功能"><a class="header-anchor" href="#3-computed的缓存功能">¶</a>3. computed的缓存功能</h2><p>首先，我们要明白<strong>缓存</strong>究竟有什么用？相比大家都知道<code>HTTP缓存</code>，其核心作用就是<strong>对一些服务端未更新的资源进行复用，避免一些无谓的请求，优化了用户的体验</strong></p><blockquote><p>对于computed也是一样的：</p></blockquote><p>在上面的例子中，<code>methods</code>定义的方法是以<strong>函数调用</strong>的形式来访问的，那么<code>test2-1,test2-2,test2-3</code>是<strong>反复地将<code>methodTest</code>方法运行了三遍</strong>，如果我们碰到一个场景，需要1000个<code>methodTest的返回值</code>，那么毫无疑问，这势必造成大量的<strong>浪费</strong>更恐怖的是，如果你更改了message的值，那么这1000个<code>methodTest</code>方法每一个又会重新计算。。。。</p><p>所以，官方文档才反复强调<strong>对于任何复杂逻辑，你都应当使用<code>计算属性</code></strong></p><blockquote><p><strong>computed依赖于data中的数据，只有在它的相关依赖数据发生改变时才会重新求值</strong></p></blockquote><p>如上例，在Vue实例化的时候，computed定义computedTest方法会做一次计算，返回一个值，<strong>在随后的代码编写中，只要<code>computedTest方法</code>依赖的<code>message数据</code>不发生改变，<code>computedTest方法</code>是不会重新计算的</strong>，也就是说<code>test3-1,test3-2</code>是直接拿到了<strong>返回值</strong>，而非是computedTest方法重新计算的结果。</p><p>这样的好处也是显而易见的，同样的，如果我们碰到一个场景，需要1000个<code>computedTest的返回值</code>，那么毫无疑问，这相对于<code>methods</code>而言，将大大地节约内存哪怕你改变了message的值，<code>computedTest</code>也只会计算一次而已</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;其实官方文档对这个已经说的很清楚了，笔者不过是在其基础上进行归纳总结，各位看官还是先去&lt;a href=&quot;https://cn.vuejs.org/v2/guide/computed.html#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%BC%93%E5%AD%98-vs-%E6%96%B9%E6%B3%95&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;读一下官方文档&lt;/a&gt;吧&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-computed区别于method的两个核心&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-computed区别于method的两个核心&quot;&gt;¶&lt;/a&gt;1.computed区别于method的两个核心&lt;/h2&gt;
&lt;p&gt;在官方文档中，强调了computed区别于method最重要的两点&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;computed是&lt;strong&gt;属性调用&lt;/strong&gt;，而methods是&lt;strong&gt;函数调用&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;computed带有&lt;strong&gt;缓存功能&lt;/strong&gt;，而methods不是&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;OK，下面我们看一个具体的例子&lt;/p&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://yoursite.com/tags/Vue/"/>
    
      <category term="computed" scheme="http://yoursite.com/tags/computed/"/>
    
  </entry>
  
  <entry>
    <title>移动端入门(动态REM —— 手机专用的自适应方案)</title>
    <link href="http://yoursite.com/2018/05/02/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%85%A5%E9%97%A8(%E5%8A%A8%E6%80%81REM%20%E2%80%94%E2%80%94%20%E6%89%8B%E6%9C%BA%E4%B8%93%E7%94%A8%E7%9A%84%E8%87%AA%E9%80%82%E5%BA%94%E6%96%B9%E6%A1%88)/"/>
    <id>http://yoursite.com/2018/05/02/移动端入门(动态REM —— 手机专用的自适应方案)/</id>
    <published>2018-05-02T11:01:20.000Z</published>
    <updated>2018-05-03T02:01:03.270Z</updated>
    
    <content type="html"><![CDATA[<h1>1. REM是什么</h1><h2 id="1-1-rem是css常见单位之一"><a class="header-anchor" href="#1-1-rem是css常见单位之一">¶</a>1.1 REM是CSS常见单位之一</h2><ul><li><code>px</code>：像素</li><li><code>em</code>：一个<strong>M</strong>的高度，或者一个<strong>汉字</strong>的高度</li><li><code>vh(viewport height)</code>：视口高度</li><li><code>vw(viewport width)</code>：视口宽度</li></ul><blockquote><p><code>rem(root-em)</code>：<strong>根元素html</strong>的<code>font-size</code></p></blockquote><a id="more"></a><h2 id="1-2-rem和em的区别是什么"><a class="header-anchor" href="#1-2-rem和em的区别是什么">¶</a>1.2 REM和EM的区别是什么</h2><ul><li><code>em</code>表示该元素自己的<code>font-size</code>值，如果在<code>font-size</code>属性上使用了<code>em</code>，该<code>em</code>继承其父元素的<code>font-size</code>值</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2em</span>; <span class="comment">/* 40px */</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2em</span>; <span class="comment">/* 80px */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>rem(root-em)</code>表示<strong>根元素如html</strong>的<code>font-size</code></li></ul><h1>2. 动态REM</h1><p>在PC端，我们可以将<strong>宽度定死</strong>(一般1000左右)来进行布局，但在移动端呢？iPhone4、iPhone6、iPhoneX、vivo、OPPO等等，市面上的手机五花八门，相对应的<strong>他们的宽度都不相等</strong>，那我们应该怎么办呢？</p><h2 id="2-1-实现rem的基本步骤"><a class="header-anchor" href="#2-1-实现rem的基本步骤">¶</a>2.1 实现REM的基本步骤</h2><blockquote><p>既然变的都是<code>宽度</code>，那么我们就让<strong>一切单位以宽度为基准，最完美地还原设计</strong></p></blockquote><ul><li>使用<code>rem</code>，<strong>动态地</strong>通过JS让页面宽度等于根元素的font-size大小</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pageWidth = <span class="built_in">window</span>.innerWidth</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">`&lt;style&gt;html&#123;font-size:<span class="subst">$&#123;pageWidth&#125;</span>px;&#125;&lt;/style&gt;`</span>)</span><br></pre></td></tr></table></figure><ul><li>再通过设置body的css，重置页面其它内容的font-size</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>所有<strong>元素</strong>的宽高全都以<code>rem</code>为基准，为所有的元素设定<strong>比例</strong></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0.25rem</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0.1rem</span> auto;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-2-优化rem"><a class="header-anchor" href="#2-2-优化rem">¶</a>2.2 优化REM</h2><p>在<code>2.1</code>虽然我们实现了动态REM，但是在css中，每个属性在使用rem的同时都要带上<code>小数点</code>，显得比较蠢，我们将<code>js</code>优化一下，</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pageWidth = <span class="built_in">window</span>.innerWidth</span><br><span class="line"><span class="built_in">document</span>.write(<span class="string">`&lt;style&gt;html&#123;font-size:<span class="subst">$&#123;pageWidth<span class="regexp">/10&#125;px;&#125;&lt;/</span>style&gt;<span class="string">`) // 这里讲pageWidth除了10</span></span></span></span><br></pre></td></tr></table></figure><p>那么我们css可以改写为这样</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">5rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">2.5rem</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">1rem</span> auto;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ddd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>为什么不把<code>pageWidth</code>除以100来实现类似于vw的效果？</p></blockquote><p>浏览器有个机制，<code>font-size</code>最小值不得低于12px，如果你除以100，<code>html</code>元素的<code>font-size</code>很容易就会小于这个值，直接造成页面错乱</p><h2 id="2-3-不要滥用rem"><a class="header-anchor" href="#2-3-不要滥用rem">¶</a>2.3 不要滥用REM</h2><ul><li>在<code>font-size</code>上不要使用REM，使用<code>px</code>或者<code>em</code>的方式就挺好</li><li>遇到某些规定宽度或高度特别小的地方比如<strong>1px的border</strong>时，不要去使用REM</li></ul><h2 id="2-4-总结动态rem"><a class="header-anchor" href="#2-4-总结动态rem">¶</a>2.4 总结动态REM</h2><blockquote><p>一切都是<strong>比例</strong></p></blockquote><p>想要适配多个移动端，必须要保持住整个页面各个元素的比例，<code>rem</code>可以很好地帮助我们实现这个思路</p><h1>3. 使用sass，不用自己再去算比例啦</h1><blockquote><p>使用<code>sass</code>的自定义函数，将<code>px</code>自动转变为<code>rem</code></p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$pageWidth: 640;</span><br><span class="line"></span><br><span class="line">@function pxToRem($px) &#123;</span><br><span class="line">  @return $px / $pageWidth * 10 + rem;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.box &#123;</span><br><span class="line">  width: pxToRem(320);</span><br><span class="line">  height: pxToRem(160);</span><br><span class="line">  margin: pxToRem(64) auto;</span><br><span class="line">  background: #ddd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;1. REM是什么&lt;/h1&gt;
&lt;h2 id=&quot;1-1-rem是css常见单位之一&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-1-rem是css常见单位之一&quot;&gt;¶&lt;/a&gt;1.1 REM是CSS常见单位之一&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;px&lt;/code&gt;：像素&lt;/li&gt;
&lt;li&gt;&lt;code&gt;em&lt;/code&gt;：一个&lt;strong&gt;M&lt;/strong&gt;的高度，或者一个&lt;strong&gt;汉字&lt;/strong&gt;的高度&lt;/li&gt;
&lt;li&gt;&lt;code&gt;vh(viewport height)&lt;/code&gt;：视口高度&lt;/li&gt;
&lt;li&gt;&lt;code&gt;vw(viewport width)&lt;/code&gt;：视口宽度&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;rem(root-em)&lt;/code&gt;：&lt;strong&gt;根元素html&lt;/strong&gt;的&lt;code&gt;font-size&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="移动端" scheme="http://yoursite.com/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
    
      <category term="移动端" scheme="http://yoursite.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
      <category term="响应式" scheme="http://yoursite.com/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>e.target和e.currentTarget到底有什么不同</title>
    <link href="http://yoursite.com/2018/04/30/e-target%E5%92%8Ce-currentTarget%E5%88%B0%E5%BA%95%E6%9C%89%E4%BB%80%E4%B9%88%E4%B8%8D%E5%90%8C/"/>
    <id>http://yoursite.com/2018/04/30/e-target和e-currentTarget到底有什么不同/</id>
    <published>2018-04-30T07:55:06.000Z</published>
    <updated>2018-05-01T14:28:47.152Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><code>target</code>是被点击到的最里面的子元素，<code>currentTarget</code>是被监听的元素</p></blockquote><p>直接看代码，并自己测试<a href="http://js.jirengu.com/xegab/1/edit?html,css,js,output" target="_blank" rel="noopener">http://js.jirengu.com/xegab/1/edit?html,css,js,output</a></p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;target&lt;/code&gt;是被点击到的最里面的子元素，&lt;code&gt;currentTarget&lt;/code&gt;是被监听的元素&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;直接看代码，并自己测试
&lt;a href=&quot;http://js.jirengu.com/xegab/1/edit?html,css,js,output&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://js.jirengu.com/xegab/1/edit?html,css,js,output&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="http://yoursite.com/categories/JS/"/>
    
    
      <category term="事件" scheme="http://yoursite.com/tags/%E4%BA%8B%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>移动端入门(响应式)</title>
    <link href="http://yoursite.com/2018/04/29/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%85%A5%E9%97%A8(%E5%93%8D%E5%BA%94%E5%BC%8F)/"/>
    <id>http://yoursite.com/2018/04/29/移动端入门(响应式)/</id>
    <published>2018-04-29T12:26:39.000Z</published>
    <updated>2018-05-01T16:40:11.192Z</updated>
    
    <content type="html"><![CDATA[<h1>1.媒体查询</h1><h2 id="1-1什么是媒体"><a class="header-anchor" href="#1-1什么是媒体">¶</a>1.1什么是媒体</h2><p>这个概念非常重要<strong>纸张</strong>，<strong>电脑</strong>，<strong>iPad</strong>，<strong>手机</strong>都是媒体，我们通过媒体查询可以获知用户在什么设备，从而写出针对性的css</p><h2 id="1-2具体用法"><a class="header-anchor" href="#1-2具体用法">¶</a>1.2具体用法</h2><blockquote><p>基础用法</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">800px</span>) &#123;</span><br><span class="line">  <span class="comment">/*如果某个媒体满足宽度800px之上，那么css如下*/</span></span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#fdf</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">600px</span>) and (max-width: <span class="number">800px</span>) &#123;</span><br><span class="line">  <span class="comment">/*如果某个媒体满足宽度在600-800px之间，那么css如下*/</span></span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: red;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (min-width: <span class="number">400px</span>)and (max-width: <span class="number">600px</span>) &#123;</span><br><span class="line">  <span class="comment">/*如果某个媒体满足宽度在400-600px之间，那么css如下*/</span></span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: orange;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">media</span> (max-width: <span class="number">400px</span>) &#123;</span><br><span class="line">  <span class="comment">/*如果某个媒体满足宽度在0-400px之间，那么css如下*/</span></span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">      <span class="attribute">background</span>: black;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><blockquote><p>常见用法 —— 与link结合</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span> <span class="attr">media</span>=<span class="string">"(max-width:600px)"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--这句话的意思是：宽度在0-600之间才会使用这个样式文件--&gt;</span></span><br></pre></td></tr></table></figure><p><strong>请注意：样式文件依然会下载</strong></p><h1>2.viewport</h1><h2 id="2-1-980px的历史"><a class="header-anchor" href="#2-1-980px的历史">¶</a>2.1 980px的历史</h2><p>把一个pc端页面在手机端展示，如果<strong>宽度 &lt;= 980</strong>，那么这个页面会等比缩小，超过这个范围，会出现滚动条<strong>就像是在在一个980px宽度的小屏幕里显示一样</strong>，同时用户可以<strong>放大</strong>，<strong>缩小</strong>为了解决这个问题，有了<code>viewport</code></p><blockquote><p>viewport的作用 —— 控制页面在手机端<strong>不被缩放</strong>且能够<strong>按照设备的实际宽度大小显示页面</strong></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="2-2-如何验证"><a class="header-anchor" href="#2-2-如何验证">¶</a>2.2 如何验证</h2><p>使用<code>chrome</code>调试工具调试到手机页面，在控制台输入<code>document.documentClient.width</code>即可若获得<code>980px</code>，则说明未加<code>meta viewport</code></p><h1>3.移动端的特点</h1><h2 id="3-1没有hover事件-没有resize-没有滚动条-滚动条不显示-只有touch事件"><a class="header-anchor" href="#3-1没有hover事件-没有resize-没有滚动条-滚动条不显示-只有touch事件">¶</a>3.1没有hover事件，没有resize，没有滚动条(滚动条不显示)，只有touch事件</h2><p>没有resize —— 在pc端你可以改变浏览窗口大小，但在移动端你不能</p><blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/TouchEvent" target="_blank" rel="noopener">MDN触摸事件接口</a></p></blockquote><p>非常简单，一共有四个 —— <code>touchstart</code>,<code>touchmove</code>,<code>touchend</code>,<code>touchcancel</code></p><h2 id="3-2用ontouchstart来判断是否支持touch事件"><a class="header-anchor" href="#3-2用ontouchstart来判断是否支持touch事件">¶</a>3.2用<code>ontouchstart</code>来判断是否支持touch事件</h2><p>我们在控制台输入<code>div.ontouchstart</code>可以看到在<strong>移动端</strong>，其值为<code>null</code>；在<strong>pc端</strong>，其值为<code>undefined</code>我们可以利用这个来判断JavaScript是否支持touch事件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">document</span>.body.ontouchstart !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">  <span class="comment">// code -&gt; Mobile</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// code -&gt; PC</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-3touch事件的clientx-y"><a class="header-anchor" href="#3-3touch事件的clientx-y">¶</a>3.3<code>touch</code>事件的<code>clientX/Y</code></h2><p>在pc端，<code>clientX/Y</code>我们直接可以通过<code>event.clientX</code>获得但在<code>touch</code>事件中，我们获得的方式有些不一样</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = e.touches[<span class="number">0</span>].clientX</span><br><span class="line"><span class="keyword">let</span> y = e.touches[<span class="number">0</span>].clientY</span><br></pre></td></tr></table></figure><blockquote><p>通过<code>clientX/Y</code>来判断用户是否进行<code>向左/右/上/下滑动</code>操作</p></blockquote><p>通过<code>clientX/Y</code>记录下用户两次触摸的<strong>位移差</strong>即可判断一般我们使用他人封装好的<code>swipe</code>库，比如<code>vue-swipe</code>，<code>jQuery-swipe</code></p><h2 id="3-4touch事件的touchlist"><a class="header-anchor" href="#3-4touch事件的touchlist">¶</a>3.4<code>touch</code>事件的<code>TouchList</code></h2><p>为什么会有<code>TouchList</code>？因为手机端<strong>支持多个手指触控</strong></p><h2 id="3-5移动端阻止页面滚动"><a class="header-anchor" href="#3-5移动端阻止页面滚动">¶</a>3.5移动端阻止页面滚动</h2><p>在相应的事件里使用<code>e.preventDefault</code></p><h2 id="3-6-在移动端可以尽情使用css3"><a class="header-anchor" href="#3-6-在移动端可以尽情使用css3">¶</a>3.6 在移动端可以尽情使用css3</h2><blockquote><p>因为没有IE啦~~</p></blockquote><h1>4.响应式的现状</h1><blockquote><p>对于一些功能复杂的网站，几乎没有响应式的影子，因为比较<code>傻</code></p></blockquote><p>通用的方式有两个</p><ol><li>后端根据<code>userAgent</code>判断客户端类型，根据不同的类型分别渲染不同的页面（比如<code>pc_index.html</code>和<code>mobile_index.html</code>）</li><li>后端根据<code>userAgent</code>判断客户端类型，根据不同的类型进行<code>域名重定向</code></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;1.媒体查询&lt;/h1&gt;
&lt;h2 id=&quot;1-1什么是媒体&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-1什么是媒体&quot;&gt;¶&lt;/a&gt;1.1什么是媒体&lt;/h2&gt;
&lt;p&gt;这个概念非常重要
&lt;strong&gt;纸张&lt;/strong&gt;，&lt;strong&gt;电脑&lt;/strong&gt;，&lt;strong&gt;iPad&lt;/strong&gt;，&lt;strong&gt;手机&lt;/strong&gt;都是媒体，我们通过媒体查询可以获知用户在什么设备，从而写出针对性的css&lt;/p&gt;
&lt;h2 id=&quot;1-2具体用法&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-2具体用法&quot;&gt;¶&lt;/a&gt;1.2具体用法&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;基础用法&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;media&lt;/span&gt; (min-width: &lt;span class=&quot;number&quot;&gt;800px&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*如果某个媒体满足宽度800px之上，那么css如下*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: &lt;span class=&quot;number&quot;&gt;#fdf&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;media&lt;/span&gt; (min-width: &lt;span class=&quot;number&quot;&gt;600px&lt;/span&gt;) and (max-width: &lt;span class=&quot;number&quot;&gt;800px&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*如果某个媒体满足宽度在600-800px之间，那么css如下*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: red;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;media&lt;/span&gt; (min-width: &lt;span class=&quot;number&quot;&gt;400px&lt;/span&gt;)and (max-width: &lt;span class=&quot;number&quot;&gt;600px&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*如果某个媒体满足宽度在400-600px之间，那么css如下*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: orange;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;@&lt;span class=&quot;keyword&quot;&gt;media&lt;/span&gt; (max-width: &lt;span class=&quot;number&quot;&gt;400px&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;comment&quot;&gt;/*如果某个媒体满足宽度在0-400px之间，那么css如下*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;selector-tag&quot;&gt;body&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;attribute&quot;&gt;background&lt;/span&gt;: black;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="移动端" scheme="http://yoursite.com/categories/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
    
      <category term="移动端" scheme="http://yoursite.com/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/"/>
    
      <category term="响应式" scheme="http://yoursite.com/tags/%E5%93%8D%E5%BA%94%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>深入浅出vue系列(一)从jQuery到MVVM</title>
    <link href="http://yoursite.com/2018/04/27/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BAvue%E7%B3%BB%E5%88%97(%E4%B8%80)%E4%BB%8EjQuery%E5%88%B0MVVM/"/>
    <id>http://yoursite.com/2018/04/27/深入浅出vue系列(一)从jQuery到MVVM/</id>
    <published>2018-04-27T07:00:36.000Z</published>
    <updated>2018-04-27T11:00:34.075Z</updated>
    
    <content type="html"><![CDATA[<h1>1.库与框架的区别</h1><h2 id="1-1下面-我们先看一个todolist用jquery和vue实现的过程"><a class="header-anchor" href="#1-1下面-我们先看一个todolist用jquery和vue实现的过程">¶</a>1.1下面，我们先看一个<code>todolist</code>用jQuery和Vue实现的过程</h2><blockquote><p>jQuery是一个DOM操作库，其核心就是通过JavaScript大量地操作了DOM结构</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">""</span> <span class="attr">id</span>=<span class="string">"txt-title"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn-submit"</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"ul-list"</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> $inputNode = $(<span class="string">'#txt-title'</span>)</span><br><span class="line">  <span class="keyword">let</span> $btnNode = $(<span class="string">'#btn-submit'</span>)</span><br><span class="line">  <span class="keyword">let</span> $ulListContainer = $(<span class="string">'#ul-list'</span>)</span><br><span class="line"></span><br><span class="line">  $btnNode.click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> val = $inputNode.val()</span><br><span class="line">    <span class="keyword">if</span> (!val) <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">let</span> $li = $(<span class="string">'&lt;li&gt;'</span> + val + <span class="string">'&lt;/li&gt;'</span>)</span><br><span class="line"></span><br><span class="line">    $ulListContainer.append($li)</span><br><span class="line">    $inputNode.val(<span class="string">''</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>Vue的DOM结构和其数据息息相关，但在script没有任何操作DOM的行为</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"add()"</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in list"</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      title: <span class="string">''</span>,</span><br><span class="line">      list: []</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      add() &#123;</span><br><span class="line">        <span class="keyword">this</span>.list.push(<span class="keyword">this</span>.title)</span><br><span class="line">        <span class="keyword">this</span>.title = <span class="string">''</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="1-2jquery和vue的区别是什么"><a class="header-anchor" href="#1-2jquery和vue的区别是什么">¶</a>1.2jQuery和Vue的区别是什么</h2><blockquote><p><code>数据和视图的分离</code>，<code>以数据驱动视图，只关心数据变化，DOM操作被框架封装</code></p></blockquote><p>在<code>jQuery</code>里，我们可以很明显看出，<strong>她的数据和视图是<code>不分离</code>的</strong>，最典型的就是<code>&lt;ul id=&quot;ul-list&quot;&gt;&lt;/ul&gt;</code>标签内的<code>li</code>不是在HTML里写好的，而是通过JavaScript操作DOM得来的，<strong>也就是说在<code>jQuery</code>中，<code>JavaScript</code>可以随意地修改<code>DOM结构</code></strong>在<code>Vue</code>里，我们也可以很明显的看出，<strong>她的数据和结构是<code>分离</code>的</strong>，在script里，只有数据【也就是<code>data</code>】，一切的代码也只能够修改数据，是无法直接修改DOM的，只能通过修改数据修改DOM</p><h2 id="1-3mvvm是什么？"><a class="header-anchor" href="#1-3mvvm是什么？">¶</a>1.3MVVM是什么？</h2><h3 id="1-3-1首先你要知道什么是mvc"><a class="header-anchor" href="#1-3-1首先你要知道什么是mvc">¶</a>1.3.1首先你要知道什么是MVC</h3><blockquote><p>关于MVC的基础知识，推荐你去<a href="http://www.ruanyifeng.com/blog/2015/02/mvcmvp_mvvm.html" target="_blank" rel="noopener">看阮一峰老师的文章</a></p></blockquote><p>现在，你需要知道M、V、C三个字母的意义M —— <code>Model</code>代表<strong>数据源</strong>V —— <code>View</code>代表<strong>视图结构</strong>C —— <code>Controller</code>代表<strong>业务逻辑</strong></p><h3 id="1-3-2好了-下面我们结合vue聊聊mvvm"><a class="header-anchor" href="#1-3-2好了-下面我们结合vue聊聊mvvm">¶</a>1.3.2好了，下面我们结合Vue聊聊MVVM</h3><p>M —— <code>Model</code>代表<strong>数据源</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">  title: <span class="string">''</span>,</span><br><span class="line">  list: []</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>V —— <code>View</code>代表<strong>视图结构</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">v-model</span>=<span class="string">"title"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"add()"</span>&gt;</span>submit<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">v-for</span>=<span class="string">"item in list"</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>VM —— <code>ViewModel</code>代表<strong>View和Model之间的连接桥</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      add() &#123;</span><br><span class="line">        <span class="keyword">this</span>.list.push(<span class="keyword">this</span>.title)</span><br><span class="line">        <span class="keyword">this</span>.title = <span class="string">''</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><code>Model</code>通过<code>ViewModel</code>对<code>View</code>进行了数据绑定</p></blockquote><p>比如你修改data，View会做出相应的变化</p><blockquote><p><code>View</code>通过<code>ViewModel</code>对<code>Model</code>进行了事件监听</p></blockquote><p>比如你在View里，可以监听click事件<img src="https://upload-images.jianshu.io/upload_images/6519022-b42f7711343d00d4.PNG?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="MVVM解析"></p><h2 id="1-4-vue的三要素"><a class="header-anchor" href="#1-4-vue的三要素">¶</a>1.4 Vue的三要素</h2><blockquote><p>这里只是简单的提一下，后续博客我会详细解读</p></blockquote><ol><li><strong>响应式</strong> —— vue如何监听到data的变化【这样才能在修改data的同时改变View】</li><li><strong>模板引擎</strong> —— vue的模板如何被解析，指令如何被处理</li><li><strong>渲染</strong> —— vue的模板如何被渲染成HTML以及渲染过程</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1&gt;1.库与框架的区别&lt;/h1&gt;
&lt;h2 id=&quot;1-1下面-我们先看一个todolist用jquery和vue实现的过程&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-1下面-我们先看一个todolist用jquery和vue实现的过程&quot;&gt;¶&lt;/a&gt;1.1下面，我们先看一个&lt;code&gt;todolist&lt;/code&gt;用jQuery和Vue实现的过程&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;jQuery是一个DOM操作库，其核心就是通过JavaScript大量地操作了DOM结构&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;txt-title&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;btn-submit&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;submit&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;button&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;ul-list&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;ul&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Vue" scheme="http://yoursite.com/categories/Vue/"/>
    
    
      <category term="Vue" scheme="http://yoursite.com/tags/Vue/"/>
    
      <category term="jQuery" scheme="http://yoursite.com/tags/jQuery/"/>
    
  </entry>
  
  <entry>
    <title>前端面试每日一题【更新至第八天】</title>
    <link href="http://yoursite.com/2018/04/26/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E3%80%90%E4%B8%8D%E6%96%AD%E6%9B%B4%E6%96%B0%E4%B8%AD%E3%80%82%E3%80%82%E3%80%82%E3%80%91/"/>
    <id>http://yoursite.com/2018/04/26/前端面试每日一题【不断更新中。。。】/</id>
    <published>2018-04-26T13:59:47.000Z</published>
    <updated>2018-05-05T09:49:14.575Z</updated>
    
    <content type="html"><![CDATA[<h2 id="第一天：2018-04-26"><a class="header-anchor" href="#第一天：2018-04-26">¶</a>第一天：2018-04-26</h2><h3 id="题目"><a class="header-anchor" href="#题目">¶</a>题目</h3><blockquote><p>写一个execTime，参数：事件毫秒数，作用：什么都不做，但函数执行会耗时参数传递的毫秒数</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">execTime</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 补全代码</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>) <span class="comment">// 输出1</span></span><br><span class="line">execTime(<span class="number">3000</span>) <span class="comment">// 运行三秒钟</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span>) <span class="comment">// 三秒钟之后输出2</span></span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="答案"><a class="header-anchor" href="#答案">¶</a>答案</h3><blockquote><p>JavaScript没有阻塞，所以思路就是使用一个<code>循环</code>强行阻塞</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">execTime</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> endTime = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() <span class="comment">// getTime 让date转化为时间戳</span></span><br><span class="line">  <span class="keyword">while</span> (<span class="keyword">new</span> <span class="built_in">Date</span>().getTime() &lt; endTime + t) &#123;</span><br><span class="line">    <span class="comment">// 当前时间 小于 结束时间+t</span></span><br><span class="line">    <span class="comment">// 就会一直在循环</span></span><br><span class="line">    <span class="comment">// 从而实现了强制阻塞</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第二天：2018-04-27"><a class="header-anchor" href="#第二天：2018-04-27">¶</a>第二天：2018-04-27</h2><h3 id="题目-v2"><a class="header-anchor" href="#题目-v2">¶</a>题目</h3><blockquote><p>写一个execTime，参数t：事件毫秒数，参数callback：回调函数</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">execTime</span>(<span class="params">t, callback</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 补全代码</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line">execTime(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line"><span class="comment">// 执行结果为：立即输出1和2，3秒后输出3</span></span><br></pre></td></tr></table></figure><h3 id="答案-v2"><a class="header-anchor" href="#答案-v2">¶</a>答案</h3><blockquote><p>这题应该是相当简单了，一看就是<code>异步</code>，又有一个回调，肯定使用setTimeout</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">execTime</span>(<span class="params">t, callback</span>) </span>&#123;</span><br><span class="line">  setTimeout(callback, t)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第三天：2018-04-28"><a class="header-anchor" href="#第三天：2018-04-28">¶</a>第三天：2018-04-28</h2><h3 id="题目-v3"><a class="header-anchor" href="#题目-v3">¶</a>题目</h3><blockquote><p>用js写出一个对象obj，使得obj.obj.obj === obj，也就是说不管出现过少次<code>.obj</code>，都得到obj</p></blockquote><h3 id="答案-v3"><a class="header-anchor" href="#答案-v3">¶</a>答案</h3><blockquote><p>核心知识点有两个，一个是<code>引用类型的内存指向问题</code>，一个是<code>迭代问题</code>，注意<code>obj.obj = obj</code>执行后，<strong>原本obj指向的内存空间被改变了</strong></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="comment">// obj =&gt; &#123;a: 1&#125;</span></span><br><span class="line">obj.obj = obj</span><br></pre></td></tr></table></figure><p><strong>伪代码，描述 <code>obj</code> 被改变后的内存空间</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">obj = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  obj: &#123;</span><br><span class="line">    a: <span class="number">1</span>,</span><br><span class="line">    obj: &#123;</span><br><span class="line">      a: <span class="number">1</span>,</span><br><span class="line">      obj: &#123;</span><br><span class="line">        <span class="comment">// 省略</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第四天：2018-04-29"><a class="header-anchor" href="#第四天：2018-04-29">¶</a>第四天：2018-04-29</h2><h3 id="题目-v4"><a class="header-anchor" href="#题目-v4">¶</a>题目</h3><blockquote><p>写一个函数fn，使得fn满足以下条件</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.fn() === fn</span><br><span class="line">2.fn.fn === fn</span><br></pre></td></tr></table></figure><h3 id="答案-v4"><a class="header-anchor" href="#答案-v4">¶</a>答案</h3><blockquote><p>关键在于<code>函数的return值</code></p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fn</span><br><span class="line">&#125;</span><br><span class="line">fn.fn = fn</span><br></pre></td></tr></table></figure><h2 id="第五天：2018-04-30"><a class="header-anchor" href="#第五天：2018-04-30">¶</a>第五天：2018-04-30</h2><h3 id="题目-v5"><a class="header-anchor" href="#题目-v5">¶</a>题目</h3><blockquote><p>写一个函数fn，使得fn满足以下条件</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn() <span class="comment">// 打印出'a'</span></span><br><span class="line">fn()() <span class="comment">// 打印出'b'</span></span><br><span class="line">fn()()() <span class="comment">// 打印出'c'</span></span><br></pre></td></tr></table></figure><h3 id="答案-v5"><a class="header-anchor" href="#答案-v5">¶</a>答案</h3><blockquote><p>fn作用域内的console.log肯定是要执行的，所以我们可以让这个console.log异步执行，让fn()和fn()()去改变fn作用域的变量的值</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> variable = <span class="string">'a'</span></span><br><span class="line">  setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(variable)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    variable = <span class="string">'b'</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      variable = <span class="string">'c'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第六天：2018-05-01"><a class="header-anchor" href="#第六天：2018-05-01">¶</a>第六天：2018-05-01</h2><h3 id="题目-v6"><a class="header-anchor" href="#题目-v6">¶</a>题目</h3><blockquote><p>写一个函数fn，使得fn满足以下条件</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fn() == <span class="string">'a'</span></span><br><span class="line">fn()() == <span class="string">'b'</span></span><br><span class="line">fn()()() == <span class="string">'c'</span></span><br></pre></td></tr></table></figure><h3 id="答案-v6"><a class="header-anchor" href="#答案-v6">¶</a>答案</h3><blockquote><p>我们很容易就能想出来，必须要然函数的返回值是<code>a</code>，且这个返回值还要是函数。核心在于双等号对字符串<code>强制转换</code> —— js会以此调用toString方法和valueOf方法来强制转换，所以核心是重写toString或valueOf</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> b</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'c'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'a'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">b.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'b'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="第七天：2018-05-02"><a class="header-anchor" href="#第七天：2018-05-02">¶</a>第七天：2018-05-02</h2><h3 id="题目-v7"><a class="header-anchor" href="#题目-v7">¶</a>题目</h3><blockquote><p>对下列函数进行Promise改写</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">exam</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> score = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">101</span>)</span><br><span class="line">  <span class="keyword">if</span> (score &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'及格，和凯丽坐在一起'</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'不及格，继续考试'</span>)</span><br><span class="line">    setTimeout(exam, <span class="number">1000</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">exam()</span><br></pre></td></tr></table></figure><blockquote><p>使它能以如下方式调用</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exam().then(<span class="function"><span class="params">score</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'及格，和凯丽坐在一起'</span>, score)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="答案-v7"><a class="header-anchor" href="#答案-v7">¶</a>答案</h3><blockquote><p>核心知识在于考察是否会自己写一个Promise</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">exam</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">_exam</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">       <span class="keyword">let</span> score = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">101</span>)</span><br><span class="line">       <span class="keyword">if</span> (score &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">         resolve(score)</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">'不及格，继续考试'</span>)</span><br><span class="line">         setTimeout(_exam, <span class="number">1000</span>)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     _exam()</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> exam().then(<span class="function"><span class="params">score</span> =&gt;</span> &#123;</span><br><span class="line">   <span class="built_in">console</span>.log(<span class="string">'及格，和凯丽坐在一起'</span>, score)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure><h2 id="第八天：2018-05-03"><a class="header-anchor" href="#第八天：2018-05-03">¶</a>第八天：2018-05-03</h2><h3 id="题目-v8"><a class="header-anchor" href="#题目-v8">¶</a>题目</h3><blockquote><p>写一个byField函数，实现数组按姓名，年级，任意字段排序</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> users = [</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">'John'</span>, <span class="attr">age</span>: <span class="number">20</span>, <span class="attr">company</span>: <span class="string">'jirengu'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">'Peter'</span>, <span class="attr">age</span>: <span class="number">10</span>, <span class="attr">company</span>: <span class="string">'Alibaba'</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">'Ann'</span>, <span class="attr">age</span>: <span class="number">19</span>, <span class="attr">company</span>: <span class="string">'recent'</span>&#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">users.sort(byField(<span class="string">'company'</span>))</span><br><span class="line"></span><br><span class="line">users.sort(byField(<span class="string">'name'</span>))</span><br></pre></td></tr></table></figure><h3 id="答案-v8"><a class="header-anchor" href="#答案-v8">¶</a>答案</h3><blockquote><p>在对字符串进行比较的时候，js会调用<code>String.prototype.charCodeAt()</code>先将双方转化为<code>unicode</code>编码，再进行比较</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 注意Sort本身的回调函数必须要传递两个参数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">byField</span>(<span class="params">item</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">user1, user2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> userValue1 = user1[item].toUpperCase() <span class="comment">// 忽视大小写，否则charCodeAt()转换的Unicode编码是不同的</span></span><br><span class="line">    <span class="keyword">let</span> userValue2 = user2[item].toUpperCase()</span><br><span class="line">    <span class="keyword">return</span> userValue1 &gt; userValue2</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;第一天：2018-04-26&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#第一天：2018-04-26&quot;&gt;¶&lt;/a&gt;第一天：2018-04-26&lt;/h2&gt;
&lt;h3 id=&quot;题目&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#题目&quot;&gt;¶&lt;/a&gt;题目&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;写一个execTime，参数：事件毫秒数，作用：什么都不做，但函数执行会耗时参数传递的毫秒数&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;execTime&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;t&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;// 补全代码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// 输出1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;execTime(&lt;span class=&quot;number&quot;&gt;3000&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// 运行三秒钟&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;) &lt;span class=&quot;comment&quot;&gt;// 三秒钟之后输出2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="面试题" scheme="http://yoursite.com/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
    
      <category term="面试题" scheme="http://yoursite.com/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    
      <category term="JavaScript" scheme="http://yoursite.com/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>极速入门Canvas(一)基本图形的绘制</title>
    <link href="http://yoursite.com/2018/04/25/Canvas%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(%E4%B8%80)/"/>
    <id>http://yoursite.com/2018/04/25/Canvas学习笔记(一)/</id>
    <published>2018-04-25T14:16:47.000Z</published>
    <updated>2018-05-01T14:27:27.182Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h2 id="canvas基础知识梗概"><a class="header-anchor" href="#canvas基础知识梗概">¶</a>canvas基础知识梗概</h2><p>以鼠标为例，我们只要知道<code>什么时候按下去</code>，<code>什么时候动</code>，<code>什么时候松开</code>就可以判断出用户是否在画画</p><p>使用<code>onmousedown</code>判断什么时候按下去使用<code>onmousemove</code>判断什么时候动 —— 有bug，移动速度过快会跟不上[用canvas的两点之间连线]使用<code>onmouseup</code>判断什么时候松开</p><!-- more --><blockquote><p>我们先用JavaScript模拟出Canvas的效果</p></blockquote><h2 id="canvas基础知识梗概-v2"><a class="header-anchor" href="#canvas基础知识梗概-v2">¶</a>canvas基础知识梗概</h2><ol><li><canvas> 看起来和 <img> 元素很相像</canvas></li><li>为了在 Canvas 上绘制图形，我们使用一个JavaScript上下文对象，它能动态创建图像（ creates graphics on the fly）getContext() 的方法是用来获得渲染上下文和它的绘画功能，getContext()只有一个参数——上下文的格式</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">'tutorial'</span>)</span><br><span class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">'2d'</span>)</span><br></pre></td></tr></table></figure><h2 id="canvas基础api学习法"><a class="header-anchor" href="#canvas基础api学习法">¶</a>canvas基础API学习法</h2><blockquote><p>一个画面的形成说白了就是两点。一是<code>画布</code>，二就是<code>点线面</code>，下面我们通过这两大方面来学习canvas的API</p></blockquote><h2 id="画布大小如何控制"><a class="header-anchor" href="#画布大小如何控制">¶</a>画布大小如何控制</h2><p>Canvas 的画布默认大小为300像素×150像素请使用使用HTML的width和height属性为<canvas>明确规定画布宽高，而不是使用CSS，否则图形会扭曲</canvas></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"tutorial"</span> <span class="attr">width</span>=<span class="string">"150"</span> <span class="attr">height</span>=<span class="string">"150"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br></pre></td></tr></table></figure><p>用js获取用户的屏幕宽高，动态加载到HTML上</p><h2 id="点"><a class="header-anchor" href="#点">¶</a>点</h2><h2 id="线"><a class="header-anchor" href="#线">¶</a>线</h2><p>context.lineTo()ctx.lineWidth = xxx  设置线的宽度</p><h3 id="矩形相关api"><a class="header-anchor" href="#矩形相关api">¶</a>矩形相关API</h3><p>HTML中的元素canvas只支持一种原生的图形绘制：矩形。所有其他的图形的绘制都至少需要生成一条路径。</p><p>fillRect(x, y, width, height)绘制一个填充的矩形strokeRect(x, y, width, height)绘制一个矩形的边框clearRect(x, y, width, height)清除指定矩形区域的<code>填充部分</code>，让清除部分完全透明以上的三个函数绘制之后会马上显现在canvas上，即时生效。</p><h3 id="路径相关api"><a class="header-anchor" href="#路径相关api">¶</a>路径相关API</h3><blockquote><p>图形的基本元素是路径——路径是通过不同颜色和宽度的线段或曲线相连形成的不同形状的点的集合</p></blockquote><ol><li>首先，你需要创建路径起始点。</li><li>然后你使用画图命令去画出路径。</li><li>之后你把路径封闭。</li><li>一旦路径生成，你就能通过描边或填充路径区域来渲染图形。</li></ol><h4 id="基础api"><a class="header-anchor" href="#基础api">¶</a>基础API</h4><p>除了矩形外，所以图形绘制的开始和结束都要遵循以下两个步骤<strong>开始</strong>beginPath()新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径<strong>结束</strong>closePath()闭合路径之后图形绘制命令又重新指向到上下文中。stroke() —— 包含closePath()通过线条来绘制图形轮廓 —— 相当于<code>border</code>fill() —— 包含closePath()通过填充路径的内容区域生成实心的图形 —— 相当于<code>background</code></p><h4 id="核心api"><a class="header-anchor" href="#核心api">¶</a>核心API</h4><p>moveTo(x, y)将笔触移动到指定的坐标x以及y上。类似于抬笔到另一点</p><h4 id="圆弧"><a class="header-anchor" href="#圆弧">¶</a>圆弧</h4><p>arc(x, y, radius, startAngle, endAngle, anticlockwise)画一个以（x,y）为圆心的以radius为半径的圆弧（圆），从startAngle开始到endAngle结束，按照anticlockwise给定的方向（默认为顺时针）来生成。注意：arc()函数中的角度单位是弧度，不是度数。角度与弧度的js表达式:<strong>radians=(Math.PI/180) * degrees</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;a id=&quot;more&quot;&gt;&lt;/a&gt;
&lt;h2 id=&quot;canvas基础知识梗概&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#canvas基础知识梗概&quot;&gt;¶&lt;/a&gt;canvas基础知识梗概&lt;/h2&gt;
&lt;p&gt;以鼠标为例，我们只要知道&lt;code&gt;什么时候按下去&lt;/c
      
    
    </summary>
    
      <category term="Canvas" scheme="http://yoursite.com/categories/Canvas/"/>
    
    
      <category term="Canvas" scheme="http://yoursite.com/tags/Canvas/"/>
    
      <category term="HTML5" scheme="http://yoursite.com/tags/HTML5/"/>
    
  </entry>
  
  <entry>
    <title>深入浅出面向对象和原型【概念篇2】</title>
    <link href="http://yoursite.com/2018/02/26/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%8E%9F%E5%9E%8B%E3%80%90%E6%A6%82%E5%BF%B5%E7%AF%872%E3%80%91/"/>
    <id>http://yoursite.com/2018/02/26/深入浅出面向对象和原型【概念篇2】/</id>
    <published>2018-02-26T02:46:13.000Z</published>
    <updated>2018-05-03T02:49:27.674Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>墙裂建议您在看这篇文章之前阅读一遍我之前写的文章<strong>深入浅出面向对象和原型【概念篇1】</strong>，因为此篇文章涉及到不少相关概念都在上篇文章里啦</p></blockquote><h2 id="1-1-简单复习对象"><a class="header-anchor" href="#1-1-简单复习对象">¶</a>1.1  简单复习对象</h2><p>对象是老生常谈的概念了，在这里我们来简单复习一下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">a: <span class="number">1</span>,</span><br><span class="line">b: <span class="string">"hello"</span>,</span><br><span class="line">c: <span class="literal">true</span>,</span><br><span class="line">d: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello"</span>)</span><br><span class="line">&#125;,</span><br><span class="line">e: &#123;</span><br><span class="line">e_1: <span class="string">"对象内储存一个对象"</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>对象是一个储存一系列无序 key: value【键值对】 的集合的<strong>容器</strong></p><blockquote><p>注意：核心是要将对象作为一个容器看待</p></blockquote><p>使用对象作为容器的这个特性我们可以进行封装，这会产生两个好处</p><ol><li>让我们的代码变得优雅、易读</li><li>规避全局变量</li></ol><h2 id="1-2-通过构造函数创建对象"><a class="header-anchor" href="#1-2-通过构造函数创建对象">¶</a>1.2 通过构造函数创建对象</h2><h3 id="1-2-1-关于function的额外知识"><a class="header-anchor" href="#1-2-1-关于function的额外知识">¶</a>1.2.1 关于function的额外知识</h3><ol><li>function作为构造函数（通过new操作符调用）的时候会 <strong>返回</strong> 一个类型为function的<em>对象</em></li><li>function可以接受参数，可以根据参数来创建 <strong>相同类型不同值</strong> 的对象</li><li>function实例作用域内有一个constructor属性，这个属性就可以指示其构造器</li></ol><h3 id="1-2-2-学会使用-new-function"><a class="header-anchor" href="#1-2-2-学会使用-new-function">¶</a>1.2.2 学会使用 new Function</h3><p>new 运算符接受一个函数 F 及其参数：new F(arguments…)</p><ol><li>创建类的实例——这步是把一个空的对象的__proto__属性设置为 F.prototype</li><li>初始化实例——函数 F 被传入参数并调用，关键字 this 被设定为该实例</li><li>返回实例</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name</span><br><span class="line"><span class="keyword">this</span>.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(name)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 一般在这个函数里不要 return</span></span><br><span class="line"><span class="comment">// 如果return引用类型的话，等于把return的值赋值给p1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">People() <span class="comment">// this指向全局变量，name和sayName成为了全局变量的属性</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> People(<span class="string">'sad'</span>)</span><br><span class="line"><span class="comment">// 第一步：instance = &#123;&#125; 创建了一个类的实例 —— 空对象，并且将空的对象的__proto__属性设置为 F.prototype，也就是说</span></span><br><span class="line"><span class="comment">// 第二步：执行函数People()，并传入参数"sad"，并将this指向p1</span></span><br><span class="line"><span class="comment">// 第三步：return instance【实例】 , 即把instance赋值给p1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 请注意 People()是一个函数，new People()是构造函数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> People(<span class="string">'angry'</span>)</span><br></pre></td></tr></table></figure><h3 id="1-2-3-instanceof"><a class="header-anchor" href="#1-2-3-instanceof">¶</a>1.2.3 instanceof</h3><p>instance 的中文意思为 <strong>实例</strong>那么 instanceof 自然就是用来判断<em>对象是否为某个类型的实例</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">console.log(p1 instanceof People) // true</span><br><span class="line">// 意思是判断 对象（p1）是否为某个类型（People）的实例</span><br><span class="line">// p1 是由 People 构建出来的，自然是People的实例，返回为true</span><br></pre></td></tr></table></figure><p>但需要注意的是，instanceof 运算符的工作原理是检测 <strong>类的prototype 是否存在实例的原型链上</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">console.log(p1 instanceof Object) // true</span><br><span class="line">// 因为Object.prototype可以被实例p1以原型链的方式访问到</span><br></pre></td></tr></table></figure><h3 id="1-2-4-构造函数存在的问题"><a class="header-anchor" href="#1-2-4-构造函数存在的问题">¶</a>1.2.4 构造函数存在的问题</h3><p>构造函数在解决了上面所有问题，同时为实例带来了类型但可以注意到在上例中，每个的实例的方法作用是一样的但是每个实例被创建的时候都要重新声明一遍，浪费了内存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 我们再来看一下这个函数</span><br><span class="line">function People(name) &#123;</span><br><span class="line">this.name = name</span><br><span class="line">this.sayName = function () &#123;</span><br><span class="line">console.log(name)</span><br><span class="line">&#125; // 每个实例的sayName方法却是相同的，而且每出现一个新实例，都是新声明一个函数，大大地浪费了内存</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>能不能给People的实例都使用同一个sayName方法呢</p><h2 id="1-3-构造函数-原型-原型链"><a class="header-anchor" href="#1-3-构造函数-原型-原型链">¶</a>1.3 构造函数&amp;原型&amp;原型链</h2><p>###1.3.1 构造函数任何函数使用new表达式就是构造函数，也就是说这个函数成为了一个类</p><h3 id="1-3-2-用原型链解决重复创建的问题"><a class="header-anchor" href="#1-3-2-用原型链解决重复创建的问题">¶</a>1.3.2 用原型链解决重复创建的问题</h3><ol><li>每个对象都会自带一个名称为prototype的属性</li><li>prototype属性是一个对象</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">   // 还是这个例子</span><br><span class="line">   function People(name) &#123;</span><br><span class="line">       this.name = name</span><br><span class="line">       this.sayName = function () &#123;</span><br><span class="line">           console.log(name)</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   var p1 = new People(&apos;sad&apos;)</span><br><span class="line">   var p2 = new People(&apos;angry&apos;)</span><br><span class="line"></span><br><span class="line">   // People本身就有prototype属性</span><br><span class="line">console.log(People.prototype) // &#123;constructor: ƒ&#125;</span><br><span class="line"></span><br><span class="line">// 而每个对象也都会带有一个__proto__属性，指向这个构造函数【实例】的类</span><br><span class="line">// 所有的实例都共用一个prototype</span><br><span class="line">console.log(p1.__proto__ === People.prototype) // true</span><br><span class="line">console.log(p2.__proto__ === People.prototype) // true</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 实例可以通过__prop__访问到其 类 的prototype属性，这就意味着类的prototype对象可以作为一个公共容器，供所有实例访问。</span><br><span class="line">People.prototype.test = &quot;abc&quot;</span><br><span class="line">console.log(p1.test) // abc</span><br><span class="line"></span><br><span class="line">// p1这个对象没有test属性，但是可以通过它的__proto__属性访问到People的prototype属性</span><br></pre></td></tr></table></figure><blockquote><p>上述关系我们用一张图来帮助大家更好地理解</p></blockquote><p><img src="/img/bV3R3R" alt="clipboard.png"></p><p>###1.3.3 解决内存浪费问题由上我们可以知道</p><ol><li><p>所有实例都会通过原型链引用到其类的prototype</p></li><li><p>prototype相当于所有实例都可以访问到的一个公共容器，这个公共容器也是这些实例的类的属性</p><blockquote><p>那么如何解决内存浪费问题呢？</p></blockquote><p>Answer：重复的东西移动到公共容器里就可以了</p></li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function People(name) &#123;</span><br><span class="line">this.name = name // 每个对象的name属性时不同的，这点无可厚非</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">People.prototype.sayName = function () &#123;</span><br><span class="line">console.log(this.name)</span><br><span class="line">&#125; // 将sayName方法放入People的原型中</span><br><span class="line"></span><br><span class="line">var p1 = new People(&apos;sad&apos;)</span><br><span class="line">var p2 = new People(&apos;angry&apos;)</span><br><span class="line">console.log(p1.sayName())</span><br><span class="line">console.log(p2.sayName())</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;墙裂建议您在看这篇文章之前阅读一遍我之前写的文章&lt;strong&gt;深入浅出面向对象和原型【概念篇1】&lt;/strong&gt;，因为此篇文章涉及到不少相关概念都在上篇文章里啦&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-1-简单复习对象&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-1-简单复习对象&quot;&gt;¶&lt;/a&gt;1.1  简单复习对象&lt;/h2&gt;
&lt;p&gt;对象是老生常谈的概念了，在这里我们来简单复习一下&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; obj = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		a: &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		b: &lt;span class=&quot;string&quot;&gt;&quot;hello&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		c: &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		d: &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; (&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(&lt;span class=&quot;string&quot;&gt;&quot;hello&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		e: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			e_1: &lt;span class=&quot;string&quot;&gt;&quot;对象内储存一个对象&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="JS" scheme="http://yoursite.com/categories/JS/"/>
    
    
      <category term="面向对象" scheme="http://yoursite.com/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
    
      <category term="原型" scheme="http://yoursite.com/tags/%E5%8E%9F%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>深入浅出面向对象和原型【概念篇1】</title>
    <link href="http://yoursite.com/2018/02/11/%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BA%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%8E%9F%E5%9E%8B%E3%80%90%E6%A6%82%E5%BF%B5%E7%AF%871%E3%80%91/"/>
    <id>http://yoursite.com/2018/02/11/深入浅出面向对象和原型【概念篇1】/</id>
    <published>2018-02-11T02:36:53.000Z</published>
    <updated>2018-05-03T02:44:33.342Z</updated>
    
    <content type="html"><![CDATA[<h2 id="1-什么是面向对象"><a class="header-anchor" href="#1-什么是面向对象">¶</a>1.什么是面向对象</h2><p>面向对象是一种思维方式[与语言无关]，教你如何思考代码，</p><blockquote><p>Object Oriented Programming</p></blockquote><p><code>orient</code> 的英文意思 是 <code>使朝向</code>那么，面向对象不如说成是<strong>以对象为基础</strong>的一种编程<strong>思维方式</strong></p><a id="more"></a><h2 id="2-面向对象的主要概念浅析"><a class="header-anchor" href="#2-面向对象的主要概念浅析">¶</a>2.面向对象的主要概念浅析</h2><p>好了，现在让我们进入正题</p><p>面向对象的难点之一就是它有一大堆的概念——类、实例、成员等等，为了让我们更好地理解这些概念，我们从一个故事讲起。</p><hr><ul><li>龚先生是一位在当地非常有名气的厨师，但他对自己用的锅一直不太满意，于是打算自己造一个</li><li>龚先生想好了。他的第一个锅必须要剑走偏锋，于是起名为“日天锅”，并且得是金色的，而且必须要用寒铁制造，方能展现实力</li><li>龚先生风风火火画好了一份设计图纸</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 日天锅</span><br><span class="line">// ---------</span><br><span class="line">// 颜色：金</span><br><span class="line">// 用料：钛合金</span><br><span class="line">// 功能：炒菜()</span><br></pre></td></tr></table></figure><ul><li>日天锅造出来后，龚先生如有神助，手艺直线上升，日天锅的大名就此传开</li><li>某日，一土豪前来，让龚先生为他也定做一款日天锅，不过这次要镶嵌24颗钻石</li><li>龚先生欣然接受，并画好了第二份设计图纸，只是 <strong>在原有的基础上镶嵌了钻石</strong></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 镶钻日天锅</span><br><span class="line">// ---------</span><br><span class="line">// 镶嵌物：钻石</span><br></pre></td></tr></table></figure><ul><li>土豪把镶钻日天锅带回家后，瞬间得到了一众土豪太太和她的闺蜜圈的喜爱，大家纷纷询问能否批量生产，在原有的基础上加上煮菜功能</li><li>龚先生自然不会放过这个赚钱的机会，于是乎画出了第三份图纸， <strong>只是在【镶钻日天锅】原有的基础上增加了新功能</strong></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 镶钻日天锅——土豪太太版</span><br><span class="line">// ---------</span><br><span class="line">// 新功能：煮菜()</span><br></pre></td></tr></table></figure><ul><li>从那以后龚先生再也没有炒过菜，而是专心致志进行着造锅业务，而且大力发展物流业务，努力早日让客户享受到“人在家中坐，锅从天上来”的顶级服务</li><li>完</li></ul><hr><h3 id="2-1类-实例-成员-方法-实例成员-静态类"><a class="header-anchor" href="#2-1类-实例-成员-方法-实例成员-静态类">¶</a>2.1类/实例/成员/方法/实例成员/静态类</h3><p>根据这个故事，我们来解释一下面向对象一些名字非常抽象的概念<sup>_</sup>：</p><ol><li><strong>类</strong>：龚先生的设计图纸就是类【你也可以把类理解成一个constructor[构造器]】</li><li><strong>实例(对象)</strong>：龚先生根据图纸制造出来的锅就是实例【实例其实就是对象，只不过在面向对象中叫做实例】</li><li><strong>成员(属性)</strong>：龚先生的图纸里，例如颜色、用料等，这些被称为成员</li><li><strong>方法(函数)</strong>：龚先生图纸里，例如炒菜()、煮菜()</li><li><strong>实例成员</strong>：也就是实例的属性，比如日天锅的颜色</li><li><strong>静态类</strong>：无法实例化的类，龚先生日后可能会搞出一些奇怪的图纸，这些图纸根本逻辑可能就是错的，以至于根据这个图纸是造不出来锅的</li></ol><h3 id="2-2继承和封装"><a class="header-anchor" href="#2-2继承和封装">¶</a>2.2继承和封装</h3><h4 id="2-2-1继承"><a class="header-anchor" href="#2-2-1继承">¶</a>2.2.1继承</h4><p>好吧，让我们来看看龚先生的锅的广告词</p><blockquote><p>镶钻日天锅这款锅不仅 <strong>继承</strong>了日天锅的金色和钛合金用料还有炒菜功能 ，而且还新增了24课钻石镶嵌于其上，你还在等什么？下一款钻石日天锅——土豪太太版这款产品不仅拥有新功能煮菜，而且还 <strong>继承</strong>了日天锅的金色和钛合金用料还有炒菜功能 和 镶钻日天锅的24颗钻石 ，你还在等什么？</p></blockquote><h4 id="2-2-2封装"><a class="header-anchor" href="#2-2-2封装">¶</a>2.2.2封装</h4><p>让我们暂时远离一下龚先生和他该死的锅封装的概念其实就是<strong>把一些复杂的东西封装成一个类——把细节隐藏起来</strong>什么意思呢？比如你拿到一个大补药方，里面让你把当归、人参、枸杞找来，每个两百克在一块儿煮一个时辰【大家别乱试，只是举个例子】，你只要通过你的大补药方，就能造出【实例化】大补药，而无需了解当归、人参、枸杞他们分别有什么作用，如何种植这些本就无需了解的细节这就是封装的优势</p><h2 id="3-轻松一刻"><a class="header-anchor" href="#3-轻松一刻">¶</a>3.轻松一刻</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> // JavaScripter的代码</span><br><span class="line">var bluesbone = &#123;name: &quot;Bruce&quot;&#125;</span><br><span class="line"> // Java程序员说</span><br><span class="line">// 不行！你的图纸呢？bluesbone这个实例怎么直接出来了？</span><br><span class="line"></span><br><span class="line">// 经过Java程序员的修改后</span><br><span class="line">var bluesbone = new Object()</span><br><span class="line">bluesbone.name = &quot;Bruce&quot;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;1-什么是面向对象&quot;&gt;&lt;a class=&quot;header-anchor&quot; href=&quot;#1-什么是面向对象&quot;&gt;¶&lt;/a&gt;1.什么是面向对象&lt;/h2&gt;
&lt;p&gt;面向对象是一种思维方式[与语言无关]，教你如何思考代码，&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Object Oriented Programming&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;orient&lt;/code&gt; 的英文意思 是 &lt;code&gt;使朝向&lt;/code&gt;
那么，面向对象不如说成是&lt;strong&gt;以对象为基础&lt;/strong&gt;的一种编程&lt;strong&gt;思维方式&lt;/strong&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="JS" scheme="http://yoursite.com/categories/JS/"/>
    
    
      <category term="面向对象" scheme="http://yoursite.com/tags/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
    
      <category term="原型" scheme="http://yoursite.com/tags/%E5%8E%9F%E5%9E%8B/"/>
    
  </entry>
  
</feed>
